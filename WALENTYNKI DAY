<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walentynki üíñ</title>

<style>
:root{
    --box-color: #ffb3d9;
    --box-color-changed: #ff80bf;
    --text-color: #660033;
    --yes-color: #ff4da6;
    --no-color: #ff99cc;
}

body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg, #ffd6eb, #ffe6f7);
    font-family: Arial, sans-serif;
}

.box{
    background-color: var(--box-color);
    padding:50px;
    border-radius:30px;
    text-align:center;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    transition: 0.4s;
    width: 420px;
    position: relative;
}

.box.changed{
    background-color: var(--box-color-changed);
}

h1{
    color: var(--text-color);
    font-size: 28px;
    margin-bottom: 25px;
}

/* OBRAZ */
#finalImage{
    width:100%;
    height:340px;
    object-fit:cover;
    border-radius:20px;
    margin-top:15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    display:none;
}

/* PRZYCISKI */
.buttons{
    position:relative;
    height:120px;
    margin-top:10px;
}

button{
    padding:14px 35px;
    font-size:18px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    transition:0.25s;
    position:absolute;
}

/* TAK */
#yes{
    background-color: var(--yes-color);
    color:white;
    right:40px;
    top:30px;
}

#yes:hover{
    transform: scale(1.1);
}

/* NIE */
#no{
    background-color: var(--no-color);
    left:40px;
    top:30px;
}
</style>
</head>

<body>

<div class="box" id="box">
    <h1 id="question">KOCHASZ MNIE?</h1>

    <img id="finalImage" src="c:\Users\draho\Downloads\anna.jpg.jpeg" >

    <div class="buttons" id="buttonArea">
        <button id="no">NIE</button>
        <button id="yes">TAK</button>
    </div>
</div>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const question = document.getElementById("question");
const box = document.getElementById("box");
const img = document.getElementById("finalImage");

let stage = 1;
let canMove = true;

/* RESET POZYCJI PRZYCISKU NIE */
function resetNoPosition(){
    noBtn.style.left = "40px";
    noBtn.style.top = "30px";
}

/* UCIEKAJƒÑCY PRZYCISK NIE ‚Äì teraz w ca≈Çym boxie */
noBtn.addEventListener("mouseenter", () => {
    if(stage === 3) return;  // na trzecim slajdzie nie ucieka
    if(!canMove) return;

    canMove = false;

    const boxRect = box.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();

    const margin = 20; // margines od krawƒôdzi boxa
    const maxX = boxRect.width - btnRect.width - margin;
    const maxY = boxRect.height - btnRect.height - margin;

    const newX = margin + Math.random() * maxX;
    const newY = margin + Math.random() * maxY;

    noBtn.style.left = newX + "px";
    noBtn.style.top = newY + "px";

    setTimeout(() => canMove = true, 250);
});

/* OBS≈ÅUGA SLIDE'√ìW */
yesBtn.addEventListener("click", () => {

    if(stage === 1){
        stage = 2;

        question.innerHTML = "JA CIEBIE TE≈ª!!!<br>A KUPISZ MI OREO? üç™";
        box.classList.add("changed");

        yesBtn.innerHTML = "TAK";
        noBtn.innerHTML = "NIE";

        resetNoPosition();
    }

    else if(stage === 2){
        stage = 3;

        question.innerHTML = "DZIƒòKI! KOCHAM CIƒò ‚ù§Ô∏è";

        yesBtn.style.display = "none";
        noBtn.style.display = "none";

        img.style.display = "block";
    }
});
</script>

</body>
</html>
